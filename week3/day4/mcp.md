## MCP(Model Context Protocol)
클라이언트와 서버 아키텍처를 기반으로 동작하며, AI 모델과 외부 도구를 연결하는 범용 표준이다. 툴 정의를 모델 내부가 아닌 서버 측에 위임해서 툴의 확장성과 재사용성을 높인 구조를 제공한다. 

- MCP Server: AI 모델이 활용할 수 있는 외부 도구(tool)나 데이터 소스에 대한 접근 기능을 제공한다. 예를 들어, MCP 서버는 구글 드라이브의 파일 검색, 또 다른 MCP 서버는 데이터베이스의 질의를 처리할 수 있다. 이 서버는 로컬 환경에서 실행될 수도 있고 클라우드에 배포된 원격 서버 형태일 수도 있다. 

- MCP client: AI 모델과 MCP 서버 사이에서 메시지를 중개하는 역할을 수행하며, 일반적으로 AI 애플리케이션 내부에 포함되어 있다. 

- MCP Host: 사용자 인터페이스를 제공하는 애플리케이션으로, 내부에 AI 모델과 MCP 클라이언트를 포함하고 있다. Claude Desktop, Cursor, VSCode 등이 있으며, 자연어로 명령을 받고 응답을 출력하는 동시에 외부 MCP 서버와 연동을 자동으로 수행한다.

### 작동 흐름 예시 

1. 사용자가 AI에게 "오늘 서울 날씨 어때?" 라고 질문했을 때, 이 정보에 대해 AI의 사전 학습 데이터에 포함되지 않으므로 실시간 정보가 필요하다고 판단한다. 

2. MCP 클라이언트는 등록된 MCP 서버 목록을 확인한 후, 실시간 날씨 정보를 제공할 수 있는 MCP 서버를 선택한다. 

3. AI는 사용자 질의를 분석하고, 외부 도구 사용에 대한 사용자 승인을 요청한다. 허용 시 MCP 클라이언트는 정해진 프로토콜 형식으로 MCP 서버에 요청한다. 

4. MCP 서버는 실제 날씨 API를 호출하거나 관련 데이터를 조회한 후, 클라이언트에 응답한다. 

5. AI는 이 응답을 현재 대화 맥락에 반영하여 사용자에게 자연스럽고 최신 정보가 포함된 답변을 제공한다. 

### FastMCP

FastMCP는 Python 환경에서 MCP 서버를 손쉽게 구축할 수 있도록 도와주는 오픈소스 프레임워크이다. 일종의 "LLM용 USB-C 포트"로서, 복잡한 프로토콜 세부 사항과 서버 관리를 대신 처리해주며 개발자가 툴을 만드는 데만 집중할 수 있도록 지원한다. 

개발자는 `@mcp.tool`과 같은 간단한 데코레이터를 활용하여 MCP 서버 및 클라이언트를 구축할 수 있다. 

![alt text](image.png)
